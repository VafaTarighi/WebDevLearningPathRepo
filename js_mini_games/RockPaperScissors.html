<script>
    function humanPlay() {
        let selection = prompt("Rock, Paper or Scissors?");

        if (!selection.match(/^rock|paper|scissors$/i))
            humanPlay();
        
        return selection;
    }

    function computerPlay() {
        switch (Math.floor(Math.random() * 3 + 1)) {
            case 1:
                return "Rock";
            case 2:
                return "Paper";
            case 3:
                return "Scissors";
        }
    }

    function playRound(humanSelection, computerSelection) {
        humanSelection = humanSelection.toLowerCase();
        computerSelection = computerSelection.toLowerCase();

        if (humanSelection == computerSelection)
            return "There is no winner or loser!";
        
        // Choosing Rock
        if (humanSelection == "rock") {

            if (computerSelection == "paper")
                return "You Lose! Paper beats Rock";
            else
                return "You Win! Rock beats Scissors";
        }

        // Choosing Paper
        if (humanSelection == "paper") {

            if (computerSelection == "rock")
                return "You Win! Paper beats Rock";
            else
                return "You Lose! Scissors beats Paper";
        }

        // Choosing Scissors
        if (humanSelection == "scissors") {

            if (computerSelection == "rock")
                return "You Lose! Rock beats Scissors";
            else
                return "You Win! Scissors beats Paper";
        }
        
    }

    function game() {
        console.log(">>>>  Rock.Paper.Scissors Game  <<<<");
        console.log();

        let humanScore = 0;
        let computerScore = 0;

        for (let i = 0; i < 5; i++) {
            let human = humanPlay();
            let computer = computerPlay();
            
            let result = playRound(human, computer);

            if (result.includes("Win"))
                humanScore++;
            else if (result.includes("Lose"))
                computerScore++;

            console.log(result + `  You:${humanScore} | Computer:${computerScore}`);
        }

        console.log();
        console.log(`Final Winner is... ${(humanScore > computerScore)? "YOU!!! Congratulations" : "The Computer! Try again!"}`);
    }

    game();
</script>